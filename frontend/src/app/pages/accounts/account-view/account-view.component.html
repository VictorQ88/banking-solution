<section class="page">
  <div class="page-header">
    <h1>Ver cuenta</h1>

    <div class="actions">
      <button class="btn" type="button" (click)="back()">Volver</button>
    </div>
  </div>

  <div class="info-row" *ngIf="errorMessage">
    <div class="alert alert-error">{{ errorMessage }}</div>
  </div>

  <div class="table-wrap" style="padding: 18px;" *ngIf="account">
    <div class="details-grid">
      <div class="detail">
        <span class="label">NÃºmero</span>
        <span class="value">{{ account.accountNumber }}</span>
      </div>

      <div class="detail">
        <span class="label">Tipo</span>
        <span class="value">{{ account.accountType }}</span>
      </div>

      <div class="detail">
        <span class="label">Saldo Inicial</span>
        <span class="value">{{ account.initialBalance }}</span>
      </div>

      <div class="detail">
        <span class="label">Estado</span>
        <span class="value">{{ account.active ? 'Activa' : 'Inactiva' }}</span>
      </div>

      <div class="detail">
        <span class="label">Cliente</span>
        <span class="value">{{ account.clientId }}</span>
      </div>
    </div>

    <div class="form-actions">
      <button class="btn" type="button" (click)="back()">Volver</button>
    </div>
  </div>

  <div class="table-wrap" *ngIf="account" style="margin-top: 16px;">
    <table class="table">
      <thead>
        <tr>
          <th>Fecha</th>
          <th>Tipo</th>
          <th>Valor</th>
          <th>Saldo</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngIf="isLoadingMovements">
          <td colspan="4" class="muted">Cargando...</td>
        </tr>

        <tr *ngIf="!isLoadingMovements && movements.length === 0">
          <td colspan="4" class="muted">Sin movimientos</td>
        </tr>

        <tr *ngFor="let m of movements; trackBy: trackByMovementId">
          <td>{{ m.movementDate | date:'yyyy-MM-dd HH:mm' }}</td>
          <td>{{ m.movementType }}</td>
          <td>{{ m.value }}</td>
          <td>{{ m.balance }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</section>