<div class="clients-page">
  <div class="clients-header">
    <h1>Clientes</h1>

    <div class="clients-actions">
      <input type="text" placeholder="Buscar" [(ngModel)]="searchText" (ngModelChange)="onSearchChange($event)" />

      <button type="button" class="btn-new" (click)="goCreate()">
        Nuevo
      </button>
    </div>
  </div>

  <div class="alert" *ngIf="errorMessage">
    {{ errorMessage }}
  </div>

  <div class="clients-table">
    <table>
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Identificación</th>
          <th>Teléfono</th>
          <th>Código Cliente</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngIf="isLoading">
          <td colspan="6">Cargando...</td>
        </tr>

        <tr *ngIf="!isLoading && filteredClients.length === 0">
          <td colspan="6">Sin resultados</td>
        </tr>

        <tr *ngFor="let client of filteredClients; trackBy: trackById">
          <td>{{ client.name }}</td>
          <td>{{ client.identification }}</td>
          <td>{{ client.phone }}</td>
          <td>{{ client.clientId }}</td>
          <td>
            <span class="status active" *ngIf="client.active">Activo</span>
            <span class="status" *ngIf="!client.active">Inactivo</span>
          </td>
          <td class="actions">
            <a (click)="goEdit(client)">Editar</a>
            <button (click)="deleteClient(client)">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>